{"version":3,"sources":["models/component.ts"],"names":[],"mappings":"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","file":"component.js","sourcesContent":["import * as fs from 'fs';\nimport * as htmlParser from 'htmlparser2';\nimport { ProgramPart } from './program-part';\nimport { Property } from './property';\nimport { Observer } from './observer';\nimport { Behavior } from './behavior';\nimport { Listener } from './listener';\nimport { HtmlComment } from './html-comment';\n\nclass Component extends ProgramPart {\n\tprivate _behaviors: Behavior[];\n\tprivate _className: string;\n\tprivate _htmlFilePath: string;\n\tprivate _listeners: Listener[];\n\tprivate _methods: any[];\n\tprivate _name: string;\n\tprivate _observers: Observer[];\n\tprivate _properties: Property[];\n\n\tget behaviors() {\n\t\treturn this._behaviors || [];\n\t}\n\n\tset behaviors(behaviors) {\n\t\tthis._behaviors = behaviors;\n\t}\n\n\tget className() {\n\t\treturn this._className;\n\t}\n\n\tset className(className) {\n\t\tthis._className = className;\n\t}\n\n\tget htmlFilePath() {\n\t\treturn this._htmlFilePath;\n\t}\n\n\tset htmlFilePath(htmlFilePath) {\n\t\tthis._htmlFilePath = htmlFilePath;\n\t}\n\n\tget listeners() {\n\t\treturn this._listeners || [];\n\t}\n\n\tset listeners(listeners) {\n\t\tthis._listeners = listeners;\n\t}\n\n\tget methods() {\n\t\treturn this._methods || [];\n\t}\n\n\tset methods(methods) {\n\t\tthis._methods = methods;\n\t}\n\n\tget name() {\n\t\treturn this._name;\n\t}\n\n\tset name(name) {\n\t\tthis._name = name;\n\t}\n\n\tget observers() {\n\t\treturn this._observers || [];\n\t}\n\n\tset observers(observers) {\n\t\tthis._observers = observers;\n\t}\n\n\tget properties() {\n\t\treturn this._properties || [];\n\t}\n\n\tset properties(properties) {\n\t\tthis._properties = properties;\n\t}\n\n\ttoMarkup() {\n\t\tlet componentStr = this._writeHtmlComment();\n\t\tcomponentStr += this._writeHead();\n\t\tif (this.behaviors && this.behaviors.length > 0) {\n\t\t\tcomponentStr += this._writeBehaviors();\n\t\t}\n\t\tif (this.properties && this.properties.length > 0) {\n\t\t\tcomponentStr += this._writeProperties();\n\t\t}\n\t\tif (this.observers && this.observers.length > 0) {\n\t\t\tcomponentStr += this._writeObservers();\n\t\t}\n\t\tif (this.listeners && this.listeners.length > 0) {\n\t\t\tcomponentStr += this._writeListeners();\n\t\t}\n\t\tif (this.observers && this.observers.length > 0) {\n\n\t\t}\n\t\tif (this.methods && this.methods.length > 0) {\n\t\t\tcomponentStr += this._writeMethods();\n\t\t}\n\t\tcomponentStr += this._writeFoot();\n\t\treturn componentStr;\n\t}\n\n\tprivate _writeHtmlComment(): string {\n\t\tlet comment = null;\n\t\tlet parser: htmlParser.Parser = new htmlParser.Parser({\n\t\t\toncomment: (data) => {\n\t\t\t\t// console.log('_parseHtml parser.oncomment', data);\n\t\t\t\tif (data.indexOf('@demo') > -1 || data.indexOf('@hero') > -1) {\n\t\t\t\t\tcomment = new HtmlComment();\n\t\t\t\t\tcomment.comment = data;\n\t\t\t\t}\n\t\t\t}\n\t\t}, { decodeEntities: true });\n\t\tparser.write(fs.readFileSync(this.htmlFilePath));\n\t\tparser.end();\n\t\treturn comment ? comment.toMarkup() : '';\n\t}\n\n\tprivate _writeHead(): string {\n\t\tlet headStr = '<dom-module id=\"' + this.name + '\">\\n';\n\t\theadStr += '\\t<template>\\n';\n\t\theadStr += '\\t\\t<style></style>\\n';\n\t\theadStr += '\\t\\t<script>\\n';\n\t\theadStr += '(function() {\\n';\n\t\theadStr += '\\tPolymer({\\n';\n\t\theadStr += '\\t\\tis: \\'' + this.name + '\\',';\n\t\treturn headStr;\n\t}\n\n\tprivate _writeFoot(): string {\n\t\tlet footStr = '\\n\\t});\\n';\n\t\tfootStr += '})();\\n';\n\t\tfootStr += '\\t\\t</script>\\n';\n\t\tfootStr += '\\t</template>\\n';\n\t\tfootStr += '</dom-module>\\n';\n\t\treturn footStr;\n\t}\n\n\tprivate _writeProperties(): string {\n\t\tlet propertiesStr = '\\n\\t\\tproperties: {';\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop: Property = this.properties[i];\n\t\t\tpropertiesStr += prop.toMarkup();\n\t\t\tpropertiesStr += (i + 1) < this.properties.length ? ',' : '';\n\t\t}\n\t\tpropertiesStr += '\\n\\t\\t},';\n\t\treturn propertiesStr;\n\t}\n\n\tprivate _writeBehaviors(): string {\n\t\tlet behaviorsStr = '\\n\\t\\tbehaviors: [\\n';\n\t\tfor (let i = 0; i < this.behaviors.length; i++) {\n\t\t\tlet behavior = this.behaviors[i];\n\t\t\tbehaviorsStr += '\\t\\t\\t' + behavior.toMarkup();\n\t\t\tbehaviorsStr += (i + 1) < this.behaviors.length ? ',\\n' : '';\n\t\t}\n\t\tbehaviorsStr += '\\n\\t\\t],'\n\t\treturn behaviorsStr;\n\t}\n\n\tprivate _writeListeners(): string {\n\t\tlet listenersStr = '\\n\\t\\tlisteners: {\\n';\n\t\tfor (let i = 0; i < this.listeners.length; i++) {\n\t\t\tlet listener = this.listeners[i];\n\t\t\tlistenersStr += listener.toMarkup();\n\t\t\tlistenersStr += (i + 1) < this.listeners.length ? ',\\n' : '';\n\t\t}\n\t\tlistenersStr += '\\n\\t\\t},';\n\t\treturn listenersStr;\n\t}\n\n\tprivate _writeMethods(): string {\n\t\tlet methodsStr = '';\n\t\tfor (let i = 0; i < this.methods.length; i++) {\n\t\t\tlet method = this.methods[i];\n\t\t\tmethodsStr += '\\n' + method.toMarkup();\n\t\t\tmethodsStr += (i + 1) < this.methods.length ? ',' : '';\n\t\t}\n\t\treturn methodsStr;\n\t}\n\n\tprivate _writeObservers(): string {\n\t\tlet observersStr = '\\n\\t\\tobservers: [\\n';\n\t\tfor (let i = 0; i < this.observers.length; i++) {\n\t\t\tlet observer = this.observers[i];\n\t\t\tobserversStr += observer.toMarkup();\n\t\t\tobserversStr += (i + 1) < this.observers.length ? ',\\n' : '';\n\t\t}\n\t\tobserversStr += '\\n\\t\\t\\],';\n\t\treturn observersStr;\n\t}\n}\n\nexport {Component};\n"]}